{% extends 'admin_base.html' %}
{% load i18n %}

{% block content %}
<div class="col-12">
  <div class="card">
    <div class="table-responsive">
      <table
          class="table table-vcenter table-nowrap">
        <thead>
          <tr>
            <th>{% translate "Name" %}</th>
            <th>{% translate "Tags" %}</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for template in object_list %}
          <tr>
            <td>
              <div class="d-flex align-items-center">
                {{ template.name }}
                {% if template.video_url %}
                <div style="margin-left: 12px; cursor: pointer;" onclick="openVideoModal('{{ template.get_embed_url }}', '{{ template.name|escapejs }}')">
                  <div style="position: relative; display: inline-block; border-radius: 4px; overflow: hidden; box-shadow: 0 2px 4px rgba(0,0,0,0.2);">
                    <img src="{{ template.get_thumbnail_url }}" style="width: 80px; height: 45px; object-fit: cover; display: block;" />
                    <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255,0,0,0.9); border-radius: 4px; padding: 6px 10px;">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M8 5v14l11-7z"/></svg>
                    </div>
                  </div>
                </div>
                {% endif %}
              </div>
            </td>
            <td>{% for tag in template.tags %}<span class="badge bg-blue-lt text-blue-lt-fg" style="margin-right: 10px">{{ tag }}</span>{% endfor %}</td>
            <td class="text-end">
              <a href="{{ template.update_url }}" class="btn btn-white">
                {% translate "View" %}
              </a>
            </td>
          </tr>
          {% empty %}
          <tr>
            <td colspan="3">{% trans "No items available" %}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% include "_paginator.html" %}
    </div>
  </div>
</div>
{% endblock %}
